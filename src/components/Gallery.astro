---
const products = [
  { id: 1, name: "Urban Breath", price: "$15.00", color: "bg-blue-500" },
  { id: 2, name: "Nature Call", price: "$12.50", color: "bg-green-500" },
  { id: 3, name: "Cyber Purify", price: "$18.00", color: "bg-purple-500" },
  { id: 4, name: "Solar Clean", price: "$14.00", color: "bg-yellow-500" },
  { id: 5, name: "Night Filter", price: "$16.00", color: "bg-indigo-500" },
  { id: 6, name: "Toxic Eater", price: "$20.00", color: "bg-red-500" },
];
---

<section
  id="products"
  class="min-h-screen py-20 bg-transparent relative pointer-events-auto"
>
  <!-- Content revealed -->
  <div class="container mx-auto px-4 z-10">
    <h2 class="text-4xl md:text-5xl font-bold mb-12 text-center text-white gallery-title opacity-0 translate-y-10 uppercase tracking-tight">
      Nuestra Colecci√≥n
    </h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      {products.map((product) => (
        <div class="gallery-card group relative aspect-square bg-surface rounded-3xl overflow-hidden cursor-pointer opacity-0 translate-y-10 border border-white/5 hover:border-primary/50 transition-colors">
            <!-- Placeholder for Product Image -->
            <div class={`absolute inset-0 ${product.color}/10 group-hover:${product.color}/20 transition-colors duration-500`}></div>
            
            <!-- Center Icon/Graphic -->
            <div class="absolute inset-0 flex items-center justify-center opacity-50 group-hover:opacity-100 group-hover:scale-110 transition-all duration-500">
                <svg width="60" height="60" viewBox="0 0 24 24" fill="none" class="text-white/80">
                    <path d="M15 5V7M15 11V13M15 17V19M5 5C3.89543 5 3 5.89543 3 7V10C4.10457 10 5 10.8954 5 12C5 13.1046 4.10457 14 3 14V17C3 18.1046 3.89543 19 5 19H19C20.1046 19 21 18.1046 21 17V14C19.8954 14 19 13.1046 19 12C19 10.8954 19.8954 10 21 7V5C21 3.89543 20.1046 3 19 3H5C3.89543 3 3 3.89543 3 5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            
            <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent opacity-60 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-8">
                <h3 class="text-2xl font-black text-white translate-y-4 group-hover:translate-y-0 transition-transform duration-300 uppercase leading-none mb-1">{product.name}</h3>
                <p class="text-primary font-medium translate-y-4 group-hover:translate-y-0 transition-transform duration-300 delay-75">{product.price}</p>
            </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
    import gsap from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const tl = gsap.timeline({
        scrollTrigger: {
            trigger: "#products",
            start: "top 70%",
            end: "bottom 20%",
            toggleActions: "play none none reverse",
        },
    });

    tl.to(".gallery-title", { opacity: 1, y: 0, duration: 0.8, ease: "power3.out" })
      .to(
          ".gallery-card",
          { opacity: 1, y: 0, duration: 0.8, stagger: 0.15, ease: "power3.out" },
          "-=0.6"
      );
</script>
